{% extends 'base.html' %}
{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/branch_dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="container py-5">
  <!-- Header -->
  <div class="dashboard-header d-flex justify-content-between align-items-center mb-5">
    <h2 class="fw-bold branch-title">
      <i class="bi bi-building-check me-2"></i>{{ branch.name }} ({{ branch.code }})
    </h2>
    <a href="{{ url_for('teacher_dashboard') }}" class="btn back-btn">
      <i class="bi bi-arrow-left-circle me-1"></i> Back
    </a>
  </div>

  <!-- Actions Grid -->
  <div class="row g-4 mb-5 text-center">
    <!-- Upload Notes -->
    <div class="col-md-4">
      <div class="glass-card animate-fade">
        <div class="icon-wrap text-gradient"><i class="bi bi-cloud-arrow-up"></i></div>
        <h5 class="fw-semibold mt-3 mb-2 text-white">Upload Notes</h5>
        <p class="info-text small">Share module-wise materials with students</p>
        <a href="{{ url_for('upload_notes', code=branch.code) }}" class="btn btn-glass mt-2">Upload</a>
      </div>
    </div>

    <!-- Upload Students -->
    <div class="col-md-4">
      <div class="glass-card animate-fade">
        <div class="icon-wrap text-gradient"><i class="bi bi-people-fill"></i></div>
        <h5 class="fw-semibold mt-3 mb-2 text-white">Upload Students (CSV)</h5>
        <p class="info-text small">Bulk import students to this branch</p>
        <a href="{{ url_for('upload_students', code=branch.code) }}" class="btn btn-glass mt-2">Upload</a>
      </div>
    </div>

    <!-- Add Student -->
    <div class="col-md-4">
      <div class="glass-card animate-fade">
        <div class="icon-wrap text-gradient"><i class="bi bi-person-plus-fill"></i></div>
        <h5 class="fw-semibold mt-3 mb-2 text-white">Add Student Manually</h5>
        <p class="info-text small">Add individual students one at a time</p>
        <a href="{{ url_for('add_student_branch', code=branch.code) }}" class="btn btn-glass mt-2">Add</a>
      </div>
    </div>
  </div>

  <!-- Semester Management -->
  <div class="semester-section py-5 px-4 shadow-lg rounded-4 position-relative overflow-hidden">
    <div class="overlay-glow"></div>
    <h3 class="fw-bold text-center text-gradient mb-4">
      <i class="bi bi-mortarboard-fill me-2"></i>Manage Semester Marks
    </h3>
    <div class="d-flex flex-wrap justify-content-center gap-3">
      {% for sem in semesters %}
      <a href="{{ url_for('semester_marks', code=branch.code, sem=sem) }}"
         class="semester-tile">Semester {{ sem }}</a>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
